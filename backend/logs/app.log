2025-09-07 19:13:48,659 [INFO] App started with 1 worker(s).
2025-09-07 20:07:49,532 [INFO] App started with 1 worker(s).
2025-09-07 20:10:25,821 [INFO] App started with 1 worker(s).
2025-09-07 20:10:27,148 [INFO] App started with 1 worker(s).
2025-09-07 20:10:29,555 [INFO] App started with 1 worker(s).
2025-09-07 20:12:49,150 [INFO] App started with 1 worker(s).
2025-09-07 20:12:50,892 [INFO] App started with 1 worker(s).
2025-09-07 20:17:02,361 [INFO] App started with 1 worker(s).
2025-09-07 21:08:47,591 [ERROR] generate_image failed: 500: No images parsed: {'id': 'gen-1757254126-0f1VI2cMTcDuPpE6kziC', 'provider': 'Google', 'model': 'google/gemini-2.5-flash-image-preview', 'object': 'chat.completion', 'created': 1757254126, 'choices': [{'logprobs': None, 'finish_reason': 'stop', 'native_finish_reason': 'STOP', 'index': 0, 'message': {'role': 'assistant', 'content': "I cannot process images via text, so I am unable to use the reference image(s) or the base image you mentioned. If you'd like me to generate an image based on a text description, please let me know!", 'refusal': None, 'reasoning': None}}], 'usage': {'prompt_tokens': 42, 'completion_tokens': 47, 'total_tokens': 89, 'prompt_tokens_details': {'cached_tokens': 0}, 'completion_tokens_details': {'reasoning_tokens': 0, 'image_tokens': 0}}}
Traceback (most recent call last):
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 275, in generate_image
    items = call_provider(contents, fmt, provider)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 221, in call_provider
    return call_openrouter(contents, fmt)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 170, in call_openrouter
    raise HTTPException(500, f"No images parsed: {data}")
fastapi.exceptions.HTTPException: 500: No images parsed: {'id': 'gen-1757254126-0f1VI2cMTcDuPpE6kziC', 'provider': 'Google', 'model': 'google/gemini-2.5-flash-image-preview', 'object': 'chat.completion', 'created': 1757254126, 'choices': [{'logprobs': None, 'finish_reason': 'stop', 'native_finish_reason': 'STOP', 'index': 0, 'message': {'role': 'assistant', 'content': "I cannot process images via text, so I am unable to use the reference image(s) or the base image you mentioned. If you'd like me to generate an image based on a text description, please let me know!", 'refusal': None, 'reasoning': None}}], 'usage': {'prompt_tokens': 42, 'completion_tokens': 47, 'total_tokens': 89, 'prompt_tokens_details': {'cached_tokens': 0}, 'completion_tokens_details': {'reasoning_tokens': 0, 'image_tokens': 0}}}
2025-09-07 21:09:32,547 [ERROR] job e1052073ea184dad8a01db9e55bb06f5 failed: Provider error
Traceback (most recent call last):
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 440, in _process_job
    items = call_provider(contents, fmt, params.get("provider"))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 221, in call_provider
    return call_openrouter(contents, fmt)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 155, in call_openrouter
    r = requests.post("https://openrouter.ai/api/v1/chat/completions", headers=headers, json=payload, timeout=180)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1183, in _execute_mock_call
    raise effect
Exception: Provider error
2025-09-07 21:21:52,635 [ERROR] job dd0aabdee4454ae1a7fda5765c087bfd failed: Provider error
Traceback (most recent call last):
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 440, in _process_job
    items = call_provider(contents, fmt, params.get("provider"))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 221, in call_provider
    return call_openrouter(contents, fmt)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 155, in call_openrouter
    r = requests.post("https://openrouter.ai/api/v1/chat/completions", headers=headers, json=payload, timeout=180)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1183, in _execute_mock_call
    raise effect
Exception: Provider error
2025-09-07 21:38:12,311 [ERROR] generate_image failed: 500: No images parsed: {'id': 'gen-1757255886-AvAZ8AxxXrGYz7VdVNur', 'provider': 'Google', 'model': 'google/gemini-2.5-flash-image-preview', 'object': 'chat.completion', 'created': 1757255891, 'choices': [{'logprobs': None, 'finish_reason': 'stop', 'native_finish_reason': 'STOP', 'index': 0, 'message': {'role': 'assistant', 'content': "I can help with that! However, I need more information. Could you please provide the reference image(s) and the base image you'd like to use? Once I have those, I'll be able to composite the elements naturally.", 'refusal': None, 'reasoning': None}}], 'usage': {'prompt_tokens': 42, 'completion_tokens': 50, 'total_tokens': 92, 'prompt_tokens_details': {'cached_tokens': 0}, 'completion_tokens_details': {'reasoning_tokens': 0, 'image_tokens': 0}}}
Traceback (most recent call last):
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 275, in generate_image
    items = call_provider(contents, fmt, provider)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 221, in call_provider
    return call_openrouter(contents, fmt)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 170, in call_openrouter
    raise HTTPException(500, f"No images parsed: {data}")
fastapi.exceptions.HTTPException: 500: No images parsed: {'id': 'gen-1757255886-AvAZ8AxxXrGYz7VdVNur', 'provider': 'Google', 'model': 'google/gemini-2.5-flash-image-preview', 'object': 'chat.completion', 'created': 1757255891, 'choices': [{'logprobs': None, 'finish_reason': 'stop', 'native_finish_reason': 'STOP', 'index': 0, 'message': {'role': 'assistant', 'content': "I can help with that! However, I need more information. Could you please provide the reference image(s) and the base image you'd like to use? Once I have those, I'll be able to composite the elements naturally.", 'refusal': None, 'reasoning': None}}], 'usage': {'prompt_tokens': 42, 'completion_tokens': 50, 'total_tokens': 92, 'prompt_tokens_details': {'cached_tokens': 0}, 'completion_tokens_details': {'reasoning_tokens': 0, 'image_tokens': 0}}}
2025-09-07 21:38:58,315 [ERROR] job a13320ca99bf4e75bd0de5347d4226a8 failed: Provider error
Traceback (most recent call last):
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 440, in _process_job
    items = call_provider(contents, fmt, params.get("provider"))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 221, in call_provider
    return call_openrouter(contents, fmt)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Projects\Ai Image Edit Starter\backend\main.py", line 155, in call_openrouter
    r = requests.post("https://openrouter.ai/api/v1/chat/completions", headers=headers, json=payload, timeout=180)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1183, in _execute_mock_call
    raise effect
Exception: Provider error
2025-09-08 08:56:04,436 - main - ERROR - Exception occurred in handler
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 222, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 86, in call_openrouter_api
    response = requests.post("https://openrouter.ai/api/v1/images/generations",
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1124, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1128, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python\Python311\Lib\unittest\mock.py", line 1183, in _execute_mock_call
    raise effect
Exception: Test exception
2025-09-08 09:48:27,629 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 222, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 90, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 10:22:13,740 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 222, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 90, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 10:29:19,733 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 222, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 90, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 10:33:43,224 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 232, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 100, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 14:24:59,499 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 245, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 113, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 14:26:29,300 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 245, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 113, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 14:27:10,828 - app - ERROR - job d593085a-0414-4f3e-af0f-8113c7e624f5 failed: Provider error
2025-09-08 14:32:59,957 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 245, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 113, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 14:33:00,040 - app - ERROR - job de19791c-3dc7-4c3c-a12b-1cbd57a7de97 failed: Provider error
2025-09-08 14:33:00,802 - app - ERROR - job 68f8f00d-7077-4492-9331-aedaaf95d9a8 failed: Test error
2025-09-08 14:33:21,547 - app - ERROR - job 255c605a-7985-4f1d-908b-8a1aedf94b2f failed: Provider error
2025-09-08 14:33:21,677 - app - ERROR - job 05a23cbf-c948-40e8-9313-235c198a1f4a failed: Simulated error
2025-09-08 14:35:58,170 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 245, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 113, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 14:36:19,615 - app - ERROR - job 25d6bd2b-3200-4b5b-a684-ec6e282c2132 failed: Test error
2025-09-08 14:36:40,892 - app - ERROR - job d5866802-6db9-4e6d-93e1-c69157fb236a failed: Provider error
2025-09-08 14:36:51,204 - app - ERROR - job 290f6892-862b-4623-add5-4a64d9153911 failed: Simulated error
2025-09-08 14:38:07,647 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 245, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 113, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 14:38:29,053 - app - ERROR - job e1b581e7-5539-4ecc-8860-c8390baefa32 failed: Test error
2025-09-08 14:38:50,053 - app - ERROR - job 69a32c2d-2480-477e-9a65-31486192589b failed: Provider error
2025-09-08 14:38:50,386 - app - ERROR - job 1a5d8209-852a-4175-b09a-f7e2b7ff3503 failed: Simulated error
2025-09-08 20:21:35,849 - app - ERROR - job dcfa2575d2b24b94892f2496b5880028 failed: Provider error
2025-09-08 20:22:13,120 - app - ERROR - job 80974d06328b4d74bee14f41340dcc1f failed: Provider error
2025-09-08 20:22:34,829 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 249, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 117, in call_openrouter_api
    raise HTTPException(status_code=500, detail=f"OpenRouter API error: {response.text}")
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 20:22:57,234 - app - ERROR - job 633ba0abab504c24b3c235938ea9c02d failed: Test error
2025-09-08 20:23:25,038 - app - ERROR - job 633b5c9f208f4f97ae78b3e6793c7e7d failed: Provider error
2025-09-08 20:23:26,063 - app - ERROR - job 200149e96ac941f1a5b3245757b7c4dc failed: Provider error
2025-09-08 20:23:32,116 - app - ERROR - job 79a9d39d0d444b909b19084224af0533 failed: Simulated error
2025-09-08 21:26:05,165 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 374, in images_edit
    filename = save_base64_image(b64_data, STORAGE_DIR, fmt)
               ^^^^^^^^^^^^^^^^^
NameError: name 'save_base64_image' is not defined
2025-09-08 21:26:05,185 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 374, in images_edit
    filename = save_base64_image(b64_data, STORAGE_DIR, fmt)
               ^^^^^^^^^^^^^^^^^
NameError: name 'save_base64_image' is not defined
2025-09-08 21:26:05,927 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 293, in images_generate
    api_response = call_openrouter_api(prompt, width, height, n)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 157, in call_openrouter_api
    raise HTTPException(
fastapi.exceptions.HTTPException: 500: OpenRouter API error: 
2025-09-08 21:26:09,856 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 374, in images_edit
    filename = save_base64_image(b64_data, STORAGE_DIR, fmt)
               ^^^^^^^^^^^^^^^^^
NameError: name 'save_base64_image' is not defined
2025-09-08 21:26:09,868 - app - ERROR - generate_image failed
Traceback (most recent call last):
  File "d:\Projects\Ai Image Edit Starter\backend\main.py", line 374, in images_edit
    filename = save_base64_image(b64_data, STORAGE_DIR, fmt)
               ^^^^^^^^^^^^^^^^^
NameError: name 'save_base64_image' is not defined
2025-09-08 21:26:35,555 - app - ERROR - job 863ee7fe-1106-464a-aa25-74510e3c6fb5 failed: Provider error
2025-09-08 21:26:36,917 - app - ERROR - job 5ed94808-c518-4096-ad39-e665332af98b failed: Provider error
